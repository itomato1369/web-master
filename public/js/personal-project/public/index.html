<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¼ë””ì˜¤ ì‚¬ì—° ëª¨ì§‘!</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    </head>
<body>
    <div class="container">
        <header>
            <img src="YedamLogo.png" alt="ì˜ˆë‹´ì§ì—…ì „ë¬¸í•™êµ ë¡œê³ " class="header-logo">
            <h1>ë¼ë””ì˜¤ ì‚¬ì—° ëª¨ì§‘!</h1>
            <p class="subtitle"><i class="fa-solid fa-book"></i>  ë‹¹ì‹ ì˜ íŠ¹ë³„í•œ ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ì£¼ì„¸ìš”</p>
        </header>

        <section class="section story-lookup-area">
            <h2><i class="fa-solid fa-magnifying-glass"></i>  ë‚´ ì‚¬ì—° ì¡°íšŒ ë° ìˆ˜ì •</h2>
            <p class="section-desc">ì´ë¦„ í˜¹ì€ ë‹‰ë„¤ì„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ì‚¬ì—°ì„ ì¡°íšŒí•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>

            <form action="/story_modify.html" method="get" id="lookup-form">
                <div class="form-group">
                    <label for="lookup-name-submit">ì´ë¦„ í˜¹ì€ ë‹‰ë„¤ì„</label>
                    <input type="text" id="lookup-name-submit" name="lookup_name" placeholder="ì‚¬ì—° ì‘ì„± ì‹œ ì…ë ¥í•œ ì´ë¦„/ë‹‰ë„¤ì„">
                </div>
                <div class="form-group">
                    <label for="lookup-pw-submit">ë¹„ë°€ë²ˆí˜¸</label>
                    <input type="password" id="lookup-pw-submit" name="lookup_pw"  placeholder="ì‚¬ì—° ì‘ì„± ì‹œ ì„¤ì •í•œ ë¹„ë°€ë²ˆí˜¸">
                </div>
                <div class="submit-area">
                    <button type="submit" class="submit-button">ì‚¬ì—° ì¡°íšŒí•˜ê¸°</button>
                </div>
            </form>
        </section>

        <form action="/submit-story" method="post" class="story-form" id="story-submit-form">
            <section class="section essential-info">
                <h2><i class="fa-solid fa-user"></i>  ì‚¬ì—°ì ì •ë³´ ì…ë ¥</h2>
                    <div class="form-group">
                        <label for="story_name">ì´ë¦„ í˜¹ì€ ë‹‰ë„¤ì„</label>
                        <input type="text" id="story_name" name="story_name" placeholder="ë„ì›Œì“°ê¸° í•˜ì§€ë§ê³  ì…ë ¥í•´ì£¼ì„¸ìš”">
                    </div>
                
                    <div class="form-group inline-unit">
                        <label for="story_age">ë‚˜ì´</label>
                        <input type="number" id="story_age" name="story_age">  
                        <label class="unit-label">ì„¸</label>
                    </div>
                
                    <div class="form-group">
                        <label>ì„±ë³„</label>
                        <div class="radio-group">
                            <div>
                                <input type="radio" id="gender_male" name="story_gender" value="ë‚¨ì„±">
                                <label for="gender_male">ë‚¨ì„±</label>
                            </div>

                            <div>
                                <input type="radio" id="gender_female" name="story_gender" value="ì—¬ì„±">
                                <label for="gender_female">ì—¬ì„±</label>
                            </div>

                            <div>
                                <input type="radio" id="gender_other_radio" name="story_gender" value="ê¸°íƒ€">
                                <label for="gender_other_radio">ì§ì ‘ì…ë ¥</label>
                            </div>
                        </div>
                        <input type="text" id="story_gender_other" name="story_gender_other" style="display:none; margin-top: 10px;" placeholder="ì§ì ‘ ì…ë ¥">
                    </div>
            </section>
            
            <section class="section story-content-area">
                <h2><i class="fa-solid fa-pen"></i>  ì‚¬ì—° ì‘ì„±</h2>
                    <div class="form-group">
                        <label for="story_pw">ì‚¬ì—° ì¡°íšŒ ë° ìˆ˜ì •ì„ ìœ„í•œ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •</label>
                        <input type="password" id="story_pw" name="story_pw" placeholder="4ìë¦¬ ì´ìƒ, ìˆ«ì, ì˜ì–´ ëŒ€/ì†Œë¬¸ì ë° íŠ¹ìˆ˜ë¬¸ì í¬í•¨">
                    </div>
                    <div class="form-group">
                        <label for="story_pw_confirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                        <input type="password" id="story_pw_confirm" placeholder="í™•ì¸ì„ ìœ„í•´ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.">
                    </div>
                    <div class="form-group">
                        <label for="story_content">ì‚¬ì—°ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”</label>
                        <textarea id="story_content" name="story_content" rows="10" placeholder="ë‹¹ì‹ ì˜ ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ì£¼ì„¸ìš”."></textarea>
                    </div>
            </section>

            <section class="section prize-info-area">
                <h2><i class="fa-solid fa-gift"></i> ê²½í’ˆ ì‘ëª¨ (ì„ íƒ ì‚¬í•­)</h2>
                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="gift_apply" name="gift_apply" value="Y">
                        <label for="gift_apply">ê²½í’ˆ ì‘ëª¨ì— ì°¸ì—¬í•©ë‹ˆë‹¤</label>
                    </div>
                    <div id="prize_info_fields" style="display: none;">
                        <div class="form-group">
                            <label for="applicant_name">ê²½í’ˆ ìˆ˜ë ¹ì¸ ì´ë¦„(ì£¼ë¯¼ë“±ë¡ìƒ ì´ë¦„)</label>
                            <input type="text" id="applicant_name" name="applicant_name" placeholder="ë³¸ëª…">
                        </div>

                        <div class="form-group">
                            <label for="applicant_email">ì´ë©”ì¼</label>
                            <input type="email" id="applicant_email" name="applicant_email" placeholder="ê²½í’ˆ ë‹¹ì²¨ ì•ˆë‚´ ì´ë©”ì¼">
                        </div>

                        <div class="form-group">
                            <label for="applicant_phone">ì—°ë½ì²˜</label>
                            <input type="tel" id="applicant_phone" name="applicant_phone" placeholder="010-1234-5678">
                        </div>
                    
                        <div class="form-group">
                            <label for="applicant_postal">ê²½í’ˆ ìˆ˜ë ¹í•  ì£¼ì†Œ/ìš°í¸ë²ˆí˜¸</label>
                                <div class="address-group">
                                    <div class="post-search-line">
                                        <input type="text" id="applicant_postal" name="applicant_postal" placeholder="00000" maxlength="5" readonly> <input type="button" onclick="searchAddress()" value="ìš°í¸ë²ˆí˜¸ ì°¾ê¸°" class="postcode-btn">
                                    </div>
                                    <input type="text" id="address" placeholder="ì£¼ì†Œ" readonly>
                                </div>
                        </div>
                    
                        <div class="form-group">
                            <label for="address_detail">ìƒì„¸ ì£¼ì†Œ</label>
                            <input type="text" id="address_detail" name="address_detail" placeholder="ì•„íŒŒíŠ¸ ë™/í˜¸ìˆ˜, ê±´ë¬¼ ì´ë¦„ ë“±">
                        </div>
                    
                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="privacy_agree" name="privacy_agree" value="Y">
                            <label for="privacy_agree">ê²½í’ˆ ì‘ëª¨ë¥¼ ìœ„í•œ ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤</label>
                            <span id="privacy_agree_error" class="error-message" style="display:none;"></span>
                        </div>
                    </div>
            </section>

            <div class="submit-area">
                <button type="submit" class="submit-button">ì‚¬ì—° ì œì¶œí•˜ê¸°</button>
            </div>
        </form>
    </div>

   <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="/terms_of_service.html">ì´ìš©ì•½ê´€</a>
                <a href="/privacy_policy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a href="/about_us.html">íšŒì‚¬ ì†Œê°œ</a>
                <a href="/contact.html">ë¬¸ì˜í•˜ê¸°</a>
            </div>
            
            <div class="social-media">
                <p>ë¼ë””ì˜¤ ì†Œì‹ì„ SNSì—ì„œë„ ë§Œë‚˜ë³´ì„¸ìš”!</p>
                <div class="social-icons">
                    <a href="https://www.instagram.com/" target="instagram" title="ì¸ìŠ¤íƒ€ê·¸ë¨">
                    <i class="fab fa-instagram"></i></a>

                    <a href="https://www.youtube.com/" target="youtube" title="ìœ íŠœë¸Œ">
                    <i class="fab fa-youtube"></i></a>

                    <a href="https://x.com/i/flow/login" target="x" title="ì—‘ìŠ¤">
                    <i class="fa-brands fa-x-twitter"></i></a>
            
                </div>
            </div>

            <div class="copyright">
                <p>ë¼ë””ì˜¤ ì‚¬ì—° ëª¨ì§‘ ì´ë²¤íŠ¸</p>
                <p>&copy; 2025 RADIO EVENT FM. All Rights Reserved.
            </div>
        </div>
    </footer>
</body>

<script>
    function searchAddress() {
    new daum.Postcode({
        // ì£¼ì†Œ ê²€ìƒ‰ íŒì—… ê°ì²´ë¥¼ ë§Œë“ ë‹¤
        oncomplete: function(data) {
            // ì½œë°± í•¨ìˆ˜(Callback Function)
            // ì£¼ì†Œ ê²€ìƒ‰ íŒì—…ì—ì„œ í•­ëª©ì„ ì„ íƒí–ˆì„ ë•Œ ì‹¤í–‰ë  ì½”ë“œì…ë‹ˆë‹¤.
            // ì£¼ì†Œ ì •ë³´ëŠ” data ë¼ëŠ” ë³€ìˆ˜ì— ë‹´ê²¨ í•¨ìˆ˜ë¡œ ì „ë‹¬

            var addr = ''; // ì£¼ì†Œë¥¼ ì €ì¥í•  ë¹ˆ ë¬¸ìì—´ addr ì„ ì–¸
            var extraAddr = ''; // ì°¸ê³ í•­ëª©ì„ ì €ì¥í•  ë¹ˆ ë¬¸ìì—´ extraAddr ì„ ì–¸

            // (1) ì‚¬ìš©ìê°€ ì„ íƒí•œ ì£¼ì†Œ íƒ€ì…ì— ë”°ë¼ í•´ë‹¹ ì£¼ì†Œ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
            if (data.userSelectedType === 'R') { 
                // ë„ë¡œëª… ì£¼ì†Œ ì„ íƒ ì‹œ 'R'
                addr = data.roadAddress;
            } else { 
                // ì§€ë²ˆ ì£¼ì†Œ ì„ íƒ ì‹œ 'J'
                addr = data.jibunAddress;
            }

            // (2) ê±´ë¬¼ëª…ì´ ìˆê³ , ì•„íŒŒíŠ¸/ë¹Œë¼ ë“± ê³µë™ì£¼íƒì¸ ê²½ìš° ì°¸ê³ í•­ëª©ì— ì¶”ê°€í•©ë‹ˆë‹¤.
            if(data.userSelectedType === 'R'){
                // ë„ë¡œëª… ì£¼ì†Œë¥¼ ì„ íƒí–ˆì„ ë•Œë§Œ
                // ë²•ì •ë™ëª…ì´ ìˆì„ ê²½ìš°
                if(data.bname !== '' && /[ë™|ë¡œ|ê°€]$/g.test(data.bname)){
                    extraAddr += data.bname;
                }
                // ê±´ë¬¼ëª… ì¶”ê°€
                if(data.buildingName !== '' && data.apartment === 'Y'){
                    extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                }
                // í‘œì‹œí•  ì°¸ê³ í•­ëª©ì´ ìˆì„ ê²½ìš° ê´„í˜¸ë¡œ ë¬¶ì–´ ìµœì¢… ì£¼ì†Œ ë’¤ì— ì¶”ê°€í•©ë‹ˆë‹¤.
                if(extraAddr !== ''){
                    addr += ' (' + extraAddr + ')';
                }
            }

            // (3) ìš°í¸ë²ˆí˜¸ì™€ ì£¼ì†Œ ì •ë³´ë¥¼ í•´ë‹¹ í•„ë“œì— ë„£ê³ , ìƒì„¸ì£¼ì†Œ í•„ë“œë¡œ í¬ì»¤ìŠ¤ë¥¼ ì´ë™ì‹œí‚µë‹ˆë‹¤.
            document.getElementById('applicant_postal').value = data.zonecode; // ìš°í¸ë²ˆí˜¸
            document.getElementById("address").value = addr; // ì£¼ì†Œ
            document.getElementById("address_detail").focus(); // ìƒì„¸ ì£¼ì†Œ í•„ë“œë¡œ í¬ì»¤ìŠ¤ ì´ë™
            // ì°¸ê³ : ìƒì„¸ ì£¼ì†ŒëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.
        }
    }).open();
    // ì£¼ì†Œ ê²€ìƒ‰ íŒì—… ì°½ì„ í™”ë©´ì— ë„ìš°ëŠ” ëª…ë ¹
}

// ì‚¬ì—° ì¡°íšŒ í¼ ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§ 
    const lookupForm = document.getElementById('lookup-form');
    const lookupNameField = document.getElementById('lookup-name-submit');
    const lookupPwField = document.getElementById('lookup-pw-submit');

    lookupForm.addEventListener('submit', function (event) {
        const nameValue = lookupNameField.value.trim();
        const pwValue = lookupPwField.value.trim();
        
        // ì´ë¦„ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ ì¤‘ í•˜ë‚˜ë¼ë„ ë¹„ì–´ ìˆìœ¼ë©´ í¼ ì œì¶œì„ ë§‰ê³  ê²½ê³ ì°½ í‘œì‹œ
        if (nameValue === '' || pwValue === '') {
            event.preventDefault(); // í¼ ì œì¶œì„ ë§‰ê³  ë¡œë”©ì„ ë©ˆì¶¥ë‹ˆë‹¤.
            alert('ğŸš¨ ì´ë¦„ í˜¹ì€ ë‹‰ë„¤ì„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì•¼ ì‚¬ì—°ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!');
            
            // ì‚¬ìš©ìê°€ ì…ë ¥í•´ì•¼ í•˜ëŠ” í•„ë“œì— í¬ì»¤ìŠ¤ ì´ë™ (ë¹ˆ ì¹¸ì´ ë‘ ê°œì¼ ê²½ìš° ì´ë¦„/ë‹‰ë„¤ì„ìœ¼ë¡œ)
            if (nameValue === '') {
                lookupNameField.focus();
            } else {
                lookupPwField.focus();
            }
        }
    });

 // ì„±ë³„-ê¸°íƒ€ ì„ íƒ ì‹œ ì§ì ‘ ì…ë ¥ í•„ë“œ í† ê¸€ ë¡œì§ 
    const genderRadios = document.querySelectorAll('input[name="story_gender"]');
    const genderOtherInput = document.getElementById('story_gender_other');

    function toggleGenderOtherInput() {
        const selectedGender = document.querySelector('input[name="story_gender"]:checked')?.value; 
        
        if (selectedGender === 'ê¸°íƒ€') {
            genderOtherInput.style.display = 'block';
            genderOtherInput.setAttribute('required', 'required');
            genderOtherInput.value = ''; 
        } else {
            genderOtherInput.style.display = 'none';
            genderOtherInput.removeAttribute('required');
        }
    }
    genderRadios.forEach(radio => {
        radio.addEventListener('change', toggleGenderOtherInput);
    });
    
    // ê²½í’ˆ ì‘ëª¨ ë¡œì§
    const giftApplyCheckbox = document.getElementById('gift_apply');
    const prizeInfoSection = document.getElementById('prize_info_fields');

    function togglePrizeInfoSection() {
        const isChecked = giftApplyCheckbox.checked;
        prizeInfoSection.style.display = isChecked ? 'block' : 'none';
        
        // ğŸš¨ privacy_agreeë¥¼ ì œì™¸í•˜ê³  ë‚˜ë¨¸ì§€ ê²½í’ˆ í•„ë“œì—ë§Œ requiredë¥¼ ì ìš©í•©ë‹ˆë‹¤.
        const requiredFields = prizeInfoSection.querySelectorAll(
            '#applicant_name, #applicant_email, #applicant_phone, #applicant_postal, #address_detail'
        );
        
        requiredFields.forEach(field => {
            if (isChecked) {
                field.setAttribute('required', 'required');
            } else {
                field.removeAttribute('required');
            }
        });
        
        // ê²½í’ˆ ì„¹ì…˜ì´ ìˆ¨ê²¨ì§ˆ ë•Œ ì—ëŸ¬ ë©”ì‹œì§€ë„ ìˆ¨ê¹€
        const privacyError = document.getElementById('privacy_agree_error');
        if (!isChecked && privacyError) {
            privacyError.style.display = 'none';
        }
    }
    togglePrizeInfoSection(); 
    giftApplyCheckbox.addEventListener('change', togglePrizeInfoSection);


    //  ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸ ë° ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§ ë³€ìˆ˜ ì„ ì–¸
    const submitForm = document.getElementById('story-submit-form');
    const storyPwField = document.getElementById('story_pw');
    const storyPwConfirmField = document.getElementById('story_pw_confirm');

    submitForm.addEventListener('submit', function (event) {
        
        // ğŸš¨ 0. ê²½í’ˆ ì‘ëª¨ ë° ê°œì¸ì •ë³´ ë™ì˜ í™•ì¸ ë¡œì§ (ìµœìš°ì„ ìœ¼ë¡œ ì‹¤í–‰)
        const privacyAgreeCheckbox = document.getElementById('privacy_agree');
        const privacyError = document.getElementById('privacy_agree_error');
        
        // ê²½í’ˆ ì‘ëª¨ì— ì²´í¬ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
        if (giftApplyCheckbox.checked) {
             // ê²½ê³  ë©”ì‹œì§€ ì´ˆê¸°í™”
            if (privacyError) {
                privacyError.style.display = 'none';
                privacyError.textContent = '';
            }

            // ê²½í’ˆ ì‘ëª¨ì— ì²´í¬í–ˆê³  AND ê°œì¸ì •ë³´ ë™ì˜ì— ì²´í¬í•˜ì§€ ì•Šì•˜ë‹¤ë©´
            // privacyAgreeCheckboxëŠ” requiredê°€ ì—†ìœ¼ë¯€ë¡œ ì´ ì»¤ìŠ¤í…€ ë¡œì§ë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
            if (privacyAgreeCheckbox && !privacyAgreeCheckbox.checked) {
                event.preventDefault(); // í¼ ì œì¶œ ë°©ì§€
                
                // ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ
                if (privacyError) {
                    privacyError.textContent = 'ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•˜ì§€ ì•Šìœ¼ì‹œë©´ ê²½í’ˆ ì‘ëª¨ë¥¼ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤!';
                    privacyError.style.display = 'block';
                }
                
                // ê²½ê³  ë©”ì‹œì§€ ìœ„ì¹˜ë¡œ ìŠ¤í¬ë¡¤ ì´ë™
                privacyAgreeCheckbox.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return; // ì—¬ê¸°ì„œ ì œì¶œ ë°©ì§€ í›„ ì¢…ë£Œ
            }
        }

        // 1. ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸
        if (storyPwField.value !== storyPwConfirmField.value) {
            event.preventDefault(); // í¼ ì œì¶œ ë°©ì§€
            alert('ì‚¬ì—° ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”.');
            storyPwConfirmField.focus();
            return;
        }

        // 2. ë¹„ë°€ë²ˆí˜¸ ë³µì¡ì„± í™•ì¸
        const pw = storyPwField.value;
        const hasUpperCase = /[A-Z]+/g;
        const hasLowerCase = /[a-z]+/g;
        const hasSpecialChar = /[!@#$%^&*]+/g;

        if (pw.length < 4 || !hasUpperCase.test(pw) || !hasLowerCase.test(pw) || !hasSpecialChar.test(pw)) {
            event.preventDefault();
            alert('ğŸš¨ ë¹„ë°€ë²ˆí˜¸ëŠ” 4ìë¦¬ ì´ìƒì´ë©°, ëŒ€ë¬¸ì, ì†Œë¬¸ì, íŠ¹ìˆ˜ë¬¸ì(!@#$%^&*)ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.');
            storyPwField.focus();
            return;
        }
    });

</script>

</html>